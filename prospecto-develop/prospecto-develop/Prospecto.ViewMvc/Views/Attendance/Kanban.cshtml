@model IEnumerable<Prospecto.Models.ViewModel.AttendanceViewModel>
@{
    ViewData["Title"] = "Kanban de Atendimentos";
    var statusList = ViewBag.KanbanStatus as List<string> ?? new List<string> { "Aberto", "Fechado" };
}

<div class="kanban-board row">
    @foreach (var status in statusList)
    {
        <div class="col-md-4">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <strong>@status</strong>
                </div>
                <div class="card-body kanban-column" data-status="@status">
                    @foreach (var item in Model.Where(a => a.StatusLabel == status))
                    {
                        <div class="kanban-card card mb-2" data-id="@item.Id">
                            <div class="card-body">
                                <p><strong>@item.NameClient</strong></p>
                                <p>@item.Telephone</p>
                                @if (item.DateReturn > DateTime.MinValue)
                                {
                                    <p>Retorno: @item.DateReturn.ToString("dd/MM/yyyy HH:mm")</p>
                                }
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    }
</div>

@section Scripts {
    <script>
        // Código JS futuro para drag-and-drop ou interação
    </script>
}
